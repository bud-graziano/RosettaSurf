#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./glu.%A_%a.out
#SBATCH --error=./glu.%A_%a.err

pdb_id=("5DMI_HL_A" "2B0Z_A_B" "3QML_A_C" "2N1D_A_B" "3UZQ_A_B" "4OVN_A_F" "3TU3_A_B" "2A6D_L_H" "4Y61_A_B" "5VIG_AB_G" "3ALZ_A_B" "4D3C_HL_A" "2JGZ_A_B" "2MLZ_B_A" "2JKI_A_S" "3GMW_A_B" "1SHZ_A_C" "4Q96_D_E" "3LAQ_A_U" "4G6U_A_B" "5W08_OP_E" "5KVG_HL_E" "4IKA_A_D" "4XNY_HL_G" "5LXM_A_D" "4MJS_A_B" "2HQW_A_B" "1WQ1_R_G" "2OMW_A_B" "3TSR_A_E" "5D72_MN_B" "3H11_BC_A" "5TE7_HL_G" "2M04_A_B" "4QHU_BA_D" "4OYD_A_B" "4Y5X_JK_L" "2ASS_A_B" "5F9W_HL_G" "2BYM_A_B" "3VG9_CB_A" "3M63_A_B" "5LI1_A_B" "3V96_A_B" "6AOD_BA_C" "2K2S_A_B" "5DO2_CD_B" "6BDZ_HL_A" "4KT3_A_B" "4CC4_A_B" "1QFU_HL_A" "5KVG_HL_E" "3RGF_A_B" "3N85_HL_A" "3GNI_A_B" "4CT0_A_B" "1ADQ_HL_A" "4YOC_A_C" "4QT8_A_C" "2XHE_A_B" "2NR6_FE_B" "3UYP_A_B" "3AU4_A_B" "1T5Z_A_B" "1H59_A_B" "4EKD_A_B" "4NZR_HL_M" "3UC0_IM_B" "3L89_ABC_M" "6B9J_HL_X" "4WND_A_B" "3N0P_A_B" "3P9W_A_B" "2OZ4_HL_A" "2ARP_A_F" "4KJY_A_B" "4XNZ_EF_D" "3G6D_LH_A" "3RO2_A_B" "5HPY_A_B" "4F37_HL_A" "2HQW_A_B" "2MLX_B_A" "1SQ0_A_B" "1Z0K_A_B" "3QBV_A_B" "2V52_B_M" "1TM4_E_I" "2GTP_A_D" "4OYD_A_B" "3TG1_A_B" "3SRI_A_B" "4LZX_A_B" "1Z0K_A_B" "1FSK_BC_A" "4WEU_D_B" "4K24_A_U" "4YVQ_A_C" "2LKM_A_B" "4EOZ_A_B" "4S1R_HL_G" "3K1R_A_B" "2RVB_A_B" "5F9W_HL_G" "4M1L_A_B" "2W8B_A_H" "1Z3G_IM_B" "5IP4_A_E" "1OGY_A_B" "1MXE_A_E" "3AAD_A_B" "2LD7_A_B" "1DHK_A_B" "3GMW_A_B" "2LQH_A_B" "2P46_A_B" "1WQ1_R_G" "4BKX_A_B" "4NSO_A_B" "2NY1_DC_A" "2QUR_A_B" "6AOD_BA_C" "5JSN_A_B" "2WFX_A_B" "1NVU_Q_S" "1M1E_A_B" "3GXU_A_B" "3C9A_B_D" "4DM8_A_C" "3P9W_A_B" "4NU1_A_B" "2AEP_HL_A" "3UZ0_A_B" "3TAC_A_B" "2OT3_B_A" "4ZKC_A_B" "4DTG_HL_K" "2M0J_A_B" "1HIA_AB_I" "5BJZ_CL_A" "2VLQ_A_B" "4XLW_A_B" "4PJ2_A_D" "3R85_A_E" "4G6J_HL_A" "2MLZ_B_A" "2WY3_B_A" "4UF1_A_B" "1WEJ_HL_F" "4PAS_A_B" "2GNG_A_I" "5MVZ_HL_U" "2A78_A_B" "2ZJS_HL_Y" "5DOB_A_B" "4RT6_A_B" "3IXS_A_B" "4F15_HI_G" "3TU3_A_B" "3WQB_A_B" "4PVZ_A_C" "4ZK9_A_B" "3X3F_HL_A" "2AST_A_B" "5TUD_CB_A" "3OLM_A_D" "4D0N_A_B" "2VWE_LJ_B" "2WWX_A_B" "4Q5U_A_C" "2EFD_A_B" "4HFU_HL_A" "5TZ2_HL_C" "1B6C_A_B" "3D5R_A_C" "1I4E_A_B" "3GI9_HL_C" "3KS0_HL_B" "1DPJ_A_B" "4XHU_C_D" "4ZQU_A_B" "2JJT_A_C" "3EO1_AB_CF" "5AAM_A_C" "3WA5_A_B" "4RT6_A_B" "2HSQ_A_B" "2Z3Q_A_B" "5WI9_HL_A" "5E6P_A_B" "3KJ1_A_B" "4UT6_IM_B" "2MLX_B_A" "2F4M_A_B" "4FFV_DC_B" "3SJA_I_J" "1WQJ_B_I" "3CQC_A_B" "5W0K_HL_A" "4LZX_A_B")
chains1=("A" "A" "C" "A" "B" "F" "A" "L" "B" "G" "A" "A" "B" "A" "A" "A" "C" "D" "U" "A" "O,P" "E" "A" "G" "A" "A" "A" "G" "A" "E" "M,N" "B,C" "G" "A" "D" "B" "L" "A" "G" "A" "A" "A" "A" "A" "C" "B" "B" "A" "A" "B" "H,L" "H,L" "B" "A" "A" "A" "H,L" "A" "A" "B" "B" "A" "A" "A" "A" "A" "H,L" "I,M" "A,B,C" "H,L" "B" "B" "A" "A" "A" "A" "D" "A" "B" "B" "H,L" "A" "A" "A" "A" "B" "B" "I" "A" "A" "A" "A" "A" "B" "A" "B" "U" "C" "B" "A" "H,L" "B" "A" "H,L" "A" "H" "B" "A" "B" "A" "B" "A" "A" "B" "B" "A" "G" "B" "B" "D,C" "A" "C" "B" "A" "Q" "B" "A" "D" "A" "B" "B" "A" "B" "A" "A" "A" "K" "A" "I" "A" "A" "B" "A" "E" "A" "A" "A" "A" "F" "A" "A" "U" "A" "Y" "B" "A" "A" "H,I" "B" "B" "A" "A" "A" "A" "A" "A" "A" "B" "A" "A" "A" "H,L" "C" "B" "A" "B" "C" "B" "B" "D" "B" "C" "A,B" "A" "B" "A" "B" "A" "A" "B" "B" "B" "A" "A" "B" "J" "I" "B" "A" "A")
chains2=("H,L" "B" "A" "B" "A" "A" "B" "H" "A" "A,B" "B" "H,L" "A" "B" "S" "B" "A" "E" "A" "B" "E" "H,L" "D" "H,L" "D" "B" "B" "R" "B" "A" "B" "A" "H,L" "B" "B,A" "A" "J,K" "B" "H,L" "B" "C,B" "B" "B" "B" "B,A" "A" "C,D" "H,L" "B" "A" "A" "E" "A" "H,L" "B" "B" "A" "C" "C" "A" "F,E" "B" "B" "B" "B" "B" "M" "B" "M" "X" "A" "A" "B" "H,L" "F" "B" "E,F" "L,H" "A" "A" "A" "B" "B" "B" "B" "A" "M" "E" "D" "B" "B" "B" "B" "A" "B,C" "D" "A" "A" "A" "B" "G" "A" "B" "G" "B" "A" "I,M" "E" "A" "E" "A" "B" "B" "A" "A" "B" "R" "A" "A" "A" "B" "B,A" "A" "B" "S" "A" "B" "B" "C" "A" "A" "H,L" "A" "B" "B" "B" "H,L" "B" "A,B" "C,L" "B" "A" "D" "A" "H,L" "B" "B" "B" "H,L" "B" "I" "H,L" "B" "H,L" "A" "B" "B" "G" "A" "A" "C" "B" "H,L" "B" "C,B" "D" "B" "L,J" "B" "C" "B" "A" "H,L" "A" "C" "A" "H,L" "H,L" "A" "C" "A" "A" "C,F" "C" "A" "B" "A" "B" "H,L" "A" "A" "I,M" "B" "B" "D,C" "I" "B" "A" "H,L" "B")
mut_res=("64A" "201A" "160C" "102A" "362B" "1901F" "30A" "123L" "244B" "370G" "503A" "159A" "265B" "404A" "146A" "110A" "27C" "82D" "68U" "243A" "52P" "370E" "343A" "370G" "183A" "78A" "11A" "799G" "170A" "439E" "52M" "381B" "370G" "193A" "57D" "46B" "62L" "1149A" "370G" "41A" "228A" "49A" "294A" "67A" "579C" "59B" "536B" "482A" "69A" "1553B" "81L" "95H" "144B" "485A" "27A" "325A" "1H" "1391A" "289A" "251B" "86B" "102A" "1756A" "897A" "9A" "119A" "81L" "107I" "208A" "99H" "1003B" "18B" "93A" "373A" "111A" "106A" "370D" "109A" "2002B" "93B" "108H" "14A" "269A" "596A" "30A" "1373B" "334B" "60I" "236A" "89A" "163A" "230A" "124A" "481B" "45A" "117B" "42U" "300C" "223B" "242A" "96L" "388B" "125A" "99H" "88A" "111H" "75B" "99A" "115B" "120A" "124B" "193A" "149A" "70B" "138B" "111A" "950G" "335B" "50B" "3108D" "203A" "458C" "94B" "127A" "37Q" "75B" "34A" "56D" "414A" "45B" "397B" "199A" "106B" "171A" "351A" "62A" "10K" "84A" "26I" "308A" "30A" "71B" "100A" "153E" "64A" "178A" "68A" "80A" "104F" "782A" "203A" "64U" "99A" "354Y" "165B" "713A" "288A" "96I" "636B" "69B" "118A" "61A" "89A" "1150A" "196A" "540A" "40A" "102B" "35A" "114A" "222A" "98H" "35C" "247B" "171A" "2417B" "313C" "63B" "10B" "54D" "140B" "35C" "74B" "189A" "126B" "786A" "572B" "89A" "451A" "85B" "9B" "71B" "178A" "440A" "94B" "54J" "3I" "999B" "187A" "115A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_glu.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
