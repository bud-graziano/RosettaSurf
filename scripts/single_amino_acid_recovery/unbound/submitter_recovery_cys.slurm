#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./cys.%A_%a.out
#SBATCH --error=./cys.%A_%a.err

pdb_id=("3P95_A_E" "1EJA_A_B" "1PPE_E_I" "3GJ8_A_B" "1TMQ_A_B" "4AN7_A_B" "4A94_A_D" "3N00_A_B" "2XTT_A_B" "4EKC_A_B" "2NZ8_A_B" "1C9T_A_G" "3HCT_A_B" "3L33_A_E" "3EHU_A_C" "6AZZ_CB_A" "2RA3_A_C" "2PTC_E_I" "2RA3_A_C" "5VL7_HL_B" "3FP6_E_I" "4F0A_A_B" "1PJM_A_B" "4XKL_A_B" "1SMF_E_I" "4RWS_A_C" "1FLE_E_I" "3GJ8_A_B" "3RDZ_A_C" "4MWF_HL_C" "1GP2_A_BG" "1HCF_AB_X" "1XQS_A_C" "3GQI_A_B" "2VWE_LJ_B" "3QUM_KM_Q" "3P71_T_C" "1C9P_A_B" "1FY8_E_I" "1ACB_E_I" "1G9M_HL_G" "6ATT_HL_A" "3BLH_A_B" "4AOQ_A_D" "2I3T_A_B" "3V96_A_B" "1CBW_ABC_D" "5F3X_A_B" "1G9I_E_I" "5IMT_A_D" "4CMH_BC_A" "2Z7F_E_I" "3P95_A_E" "1PVH_A_B" "4YIZ_A_B" "3RO2_A_B" "2VE7_A_C" "1O9A_A_B" "4K0A_A_R" "3SQO_HL_A" "3EBA_A_B" "1XDT_T_R" "1ML0_AB_D" "3P71_T_C" "1GL0_E_I" "4E42_A_B" "4C5G_A_B" "2KWJ_B_A" "3EGG_A_C" "3ZYI_A_B" "4GI3_A_C" "3P92_A_E" "2R9P_A_E" "1TH1_A_C" "2ARP_A_F" "6B08_CB_A" "1MCV_A_I" "3T6G_A_B" "4V1D_DE_C" "4H8W_HL_G" "4AOQ_A_D" "2FTL_E_I" "4AOR_A_D" "3ZRZ_A_C" "2SIC_E_I" "4U30_A_X" "4W6Y_A_B" "4FZV_A_B" "2WJV_A_D" "2VLQ_A_B" "5CZV_HL_A" "4EIZ_A_D" "2MZD_A_B" "1YC0_A_I" "2WO3_A_B" "3IDB_A_B" "2VSM_A_B" "1KXP_A_D" "3G6J_E_F" "5FZT_A_B" "3WN7_A_B" "1HIA_AB_I" "2P44_A_B" "5VL7_HL_B" "3P92_A_E" "1A22_A_B" "1Z5Y_D_E" "1SMF_E_I" "5HVF_A_B" "3NPS_BC_A" "1C9T_A_G" "4DOQ_A_B" "1RJC_A_B" "4A94_A_D" "1CLV_A_I" "3RAJ_HL_A" "4BOH_B_A" "1F6M_A_C" "1D6R_A_I" "2JGZ_A_B" "3DXC_A_B" "2HD5_A_B" "3DXC_A_B" "1CBW_ABC_D" "2MEJ_A_B" "2RVB_A_B" "1FLE_E_I" "1C9T_A_G" "2NYZ_AB_D" "5D72_MN_B" "3I50_HL_E" "1GXD_A_C" "2I9B_E_A" "4E42_A_B" "4ZFG_HL_A" "4U30_A_X" "3BLH_A_B" "4KFZ_A_C" "2FTM_A_B" "3AAA_AB_C" "1SMF_E_I" "1A22_A_B" "1OP9_A_B" "3KW5_A_B" "4ZK9_A_B" "1JMO_A_HL" "3OSL_A_B" "3UIR_A_C" "1ZR0_A_B" "1AN1_E_I" "2OT3_B_A" "2VE7_A_C" "4MHJ_L_H" "2AW2_A_B" "3FPU_A_B" "1LDT_T_L" "1TH1_A_C" "1EZU_C_AB" "2Y5B_A_B" "1ZJD_A_B" "3NPS_BC_A" "1OGY_A_B" "1CBW_ABC_D" "4REY_A_B" "1TY4_A_C" "1CBW_ABC_D" "2NZ1_X_Y" "4Z80_A_C" "2X89_F_G" "3QSK_A_B" "2WP3_T_O" "2ONL_A_C" "1WQ1_R_G" "1OGY_A_B" "1NW9_B_A" "3P95_A_E" "4L0P_A_B" "3SF4_A_D" "1EJA_A_B" "5EG3_A_B" "4MSM_A_B" "3WWN_A_B" "2A6K_A_B" "4X7S_H_L" "5TUD_CB_A" "2XTT_A_B" "4JEH_A_B" "1CGI_E_I" "1ML0_AB_D" "1PPE_E_I" "4KV5_C_D" "1C9T_A_G" "4AN7_A_B" "2ASS_A_B" "4NSO_A_B" "4P5T_A_B" "4K1R_A_B" "3DXD_A_B" "1YVB_A_I" "2P4A_A_B")
chains1=("A" "A" "I" "B" "B" "A" "A" "B" "B" "B" "B" "G" "A" "E" "A" "A" "C" "E" "C" "B" "E" "B" "A" "B" "E" "C" "E" "B" "A" "C" "B,G" "X" "A" "B" "B" "Q" "C" "B" "E" "E" "G" "A" "A" "A" "B" "A" "A,B,C" "A" "E" "D" "A" "E" "A" "B" "B" "A" "A" "A" "R" "A" "B" "R" "D" "C" "E" "A" "A" "A" "A" "A" "C" "E" "E" "A" "F" "A" "A" "B" "D,E" "G" "A" "E" "A" "A" "I" "X" "B" "B" "D" "A" "A" "A" "A" "I" "A" "A" "A" "D" "E" "A" "A" "I" "A" "B" "E" "B" "E" "E" "A" "A" "A" "B" "A" "D" "I" "A" "A" "A" "I" "B" "A" "A" "A" "A,B,C" "B" "B" "I" "A" "D" "B" "E" "C" "A" "B" "A" "X" "A" "A" "A" "C" "I" "A" "B" "A" "B" "H,L" "B" "C" "A" "E" "A" "C" "H" "A" "B" "T" "A" "C" "A" "A" "A" "A" "D" "A" "C" "D" "Y" "A" "F" "A" "T" "A" "G" "B" "A" "E" "A" "D" "A" "B" "A" "B" "A" "L" "A" "B" "A" "I" "D" "I" "D" "A" "A" "B" "B" "B" "A" "A" "A" "A")
chains2=("E" "B" "E" "A" "A" "B" "D" "A" "A" "A" "A" "A" "B" "A" "C" "C,B" "A" "I" "A" "H,L" "I" "A" "B" "A" "I" "A" "I" "A" "C" "H,L" "A" "A,B" "C" "A" "L,J" "K,M" "T" "A" "I" "I" "H,L" "H,L" "B" "D" "A" "B" "D" "B" "I" "A" "B,C" "I" "E" "A" "A" "B" "C" "B" "A" "H,L" "A" "T" "A,B" "T" "I" "B" "B" "B" "C" "B" "A" "A" "A" "C" "A" "C,B" "I" "A" "C" "H,L" "D" "I" "D" "C" "E" "A" "A" "A" "A" "B" "H,L" "D" "B" "A" "B" "B" "B" "A" "F" "B" "B" "A,B" "B" "H,L" "A" "A" "D" "I" "B" "B,C" "G" "A" "B" "A" "A" "H,L" "B" "C" "A" "A" "B" "B" "B" "D" "A" "A" "E" "G" "A,B" "M,N" "H,L" "A" "E" "A" "H,L" "A" "B" "C" "B" "A,B" "E" "B" "A" "B" "A" "A" "A" "A" "B" "I" "B" "A" "L" "B" "A" "L" "C" "A,B" "B" "B" "B,C" "B" "A,B,C" "B" "A" "A,B,C" "X" "C" "G" "B" "O" "C" "R" "A" "B" "A" "B" "A" "B" "A" "B" "A" "B" "H" "C,B" "A" "B" "E" "A,B" "E" "C" "G" "B" "A" "A" "A" "B" "B" "I" "B")
mut_res=("42A" "42A" "28I" "869B" "557B" "42A" "138A" "2056B" "42B" "106B" "1328B" "33G" "73A" "14E" "102A" "112A" "14C" "191E" "38C" "375B" "191E" "325B" "859A" "425B" "191E" "51C" "58E" "855B" "43A" "429C" "204B" "302X" "214A" "646B" "103B" "22Q" "269C" "33B" "42E" "191E" "205G" "202A" "10A" "48A" "360B" "3A" "58B" "145A" "42E" "63D" "119A" "191E" "58A" "131B" "1278B" "28A" "232A" "56A" "26R" "375A" "77B" "134R" "52D" "266C" "58E" "157A" "637A" "313A" "273A" "325A" "25C" "14E" "14E" "429A" "189F" "112A" "42A" "820B" "106D" "218G" "196A" "191E" "48A" "110A" "101I" "38X" "33B" "307B" "1107D" "23A" "1442A" "152A" "74A" "259I" "73A" "199A" "240A" "311D" "214E" "1506A" "434A" "29I" "110A" "378B" "38E" "308B" "80E" "42E" "69A" "191A" "191A" "97B" "108A" "51D" "508I" "254A" "439A" "138A" "14I" "167B" "654A" "223A" "661A" "191C" "242B" "52B" "23I" "42A" "11D" "121B" "105E" "133C" "19A" "166B" "435A" "14X" "13A" "130A" "58A" "45C" "9I" "182A" "95B" "90A" "52B" "42H" "54B" "16C" "58A" "191E" "360A" "134C" "230H" "79A" "12B" "58T" "466A" "458C" "398A" "191A" "220A" "54A" "14D" "103A" "62C" "38D" "36Y" "317A" "80F" "110A" "26T" "119A" "906G" "101B" "327A" "38E" "189A" "43D" "58A" "715B" "288A" "8B" "214A" "218L" "128A" "58B" "45A" "16I" "11D" "3I" "77D" "58A" "191A" "2111B" "100B" "167B" "317A" "661A" "25A" "110A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_cys.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
