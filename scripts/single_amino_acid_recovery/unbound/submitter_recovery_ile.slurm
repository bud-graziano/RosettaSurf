#!/bin/bash
#SBATCH --nodes 1
#SBATCH --ntasks-per-node 1
#SBATCH --cpus-per-task 1
#SBATCH --mem 8192
#SBATCH --time 24:00:00
#SBATCH --partition serial
#SBATCH --output=./ile.%A_%a.out
#SBATCH --error=./ile.%A_%a.err

pdb_id=("1UUG_A_B" "1DHK_A_B" "1G9M_HL_G" "4QVF_A_B" "1EO8_HL_A" "4KUC_FE_I" "5BN5_A_B" "3TKL_A_B" "1USV_A_B" "5BN5_A_B" "2HSQ_A_B" "1DHK_A_B" "4B1Y_B_M" "5AYR_A_B" "2WY8_A_Q" "1K93_A_D" "4H6J_A_B" "3W8I_A_B" "3BX1_A_C" "4OL0_A_B" "5DFV_EF_B" "5UEA_HL_D" "3GC3_A_B" "1CBW_ABC_D" "1TM7_E_I" "4AOR_A_D" "2C0L_A_B" "3BDY_HL_V" "1TM3_E_I" "1LW6_E_I" "4ZKC_A_B" "3AON_A_B" "3GJ5_A_B" "1E96_A_B" "3VV2_A_B" "3WKT_A_C" "1AHW_AB_C" "6BP2_HL_A" "5K9O_HL_I" "5SZI_A_B" "4G6V_A_B" "2WO3_A_B" "5F3B_AB_C" "1PPE_E_I" "4UF1_A_B" "1RKE_A_B" "5JQ6_HL_A" "4LYL_A_B" "5GGS_AB_Z" "1KKL_ABC_H" "4DJ9_A_B" "1BUH_A_B" "2L1L_A_B" "5AJJ_A_B" "3HCU_A_B" "4WNN_A_B" "1YRT_A_B" "2W80_A_D" "4RGO_HL_S" "3EAB_A_G" "4WNN_A_B" "4HRL_C_A" "2FJU_B_A" "2OZA_B_A" "4YL8_A_B" "4BQD_A_C" "4LGR_A_B" "5ABV_A_B" "5G1X_A_B" "2BYK_A_B" "2VE7_A_C" "1PVH_A_B" "4H6J_A_B" "4XKL_A_B" "4ETP_A_B" "1GPW_A_B" "4AP2_A_B" "2RU4_A_B" "2A78_A_B" "4XXB_A_B" "3REB_A_B" "2NY1_DC_A" "2OT3_B_A" "1OPH_A_B" "3WA0_A_G" "2XZE_B_R" "4YPG_BA_C" "4GN3_A_B" "4HCN_A_B" "2XPX_A_B" "1LX5_A_B" "2G77_A_B" "3PVM_A_B" "3ZYJ_A_B" "1TZH_HL_V" "4L0P_A_B" "2KWI_A_B" "3EO1_AB_CF" "2J59_A_M" "3L33_A_E" "2VOF_C_D" "4G35_A_B" "3ZKM_CD_B" "2Y8S_A_B" "1GP2_A_BG" "2I32_A_E" "5IP4_A_E" "4FFV_DC_B" "1E4K_AB_C" "2VOI_A_B" "4KR0_A_B" "2JBY_A_B" "3BS5_A_B" "5SZH_A_B" "4DN4_LH_M" "2V52_B_M" "5C3F_A_B" "4C7N_A_B" "2O8V_A_B" "3WRX_A_C" "3PC8_A_C" "2NBV_A_B" "4CMM_A_B" "3ZEU_D_E" "4WNN_A_B" "5AYR_A_B" "2BE6_A_D" "1JMO_A_HL" "4ZKC_A_B" "3LEV_L_H" "2AST_A_B" "3P9W_A_B" "1ES0_A_B" "4ZRJ_A_B" "5XWD_HD_A" "1HE8_B_A" "4DZU_A_B" "3G7A_A_B" "4DJ9_A_B" "5UEM_HL_G" "4FQI_HL_ABEFCD" "3F7P_A_C" "2KWU_A_B" "2X1X_E_R" "3OHM_A_B" "2I25_N_L" "4Z5R_BA_N" "3L89_ABC_M" "1LX5_A_B" "3F50_A_B" "2OMX_A_B" "2ES4_A_D" "1T01_A_B" "1MAH_A_F" "2LD7_A_B" "3MZW_A_B" "6B0G_DC_E" "3P71_T_C" "4OJK_A_C" "5AGX_A_D" "3EOA_LH_I" "2J59_A_M" "1R0R_E_I" "3BLH_A_B" "3RPG_B_C" "5C3F_A_B" "2WY3_B_A" "2W8B_A_H" "2AYO_A_B" "4BQD_A_C" "5B77_A_B" "4ZKC_A_B" "4ZLT_B_F" "5MVZ_HL_U" "4XKL_A_B" "4YDK_HL_G" "4L0P_A_B" "4TNW_IO_D" "2MFQ_A_B" "1KXP_A_D" "5B76_A_B" "4BYF_C_D" "5JQ6_HL_A" "4MYW_A_B" "5DJU_B_A" "1W1W_B_F" "3SJH_A_B" "4QZV_A_B" "1E6E_A_B" "3BEG_A_B" "2C1T_A_C" "3G9W_A_D" "3W8I_A_B" "4ONS_A_B" "5F3H_AB_J" "4J2Y_A_B" "2M86_A_B" "3CPH_G_A" "2X1X_E_R" "1YDI_A_B")
chains1=("B" "A" "G" "B" "A" "I" "B" "B" "B" "B" "B" "A" "B" "B" "Q" "A" "B" "B" "A" "A" "E,F" "D" "B" "A,B,C" "I" "D" "A" "V" "E" "I" "B" "A" "B" "B" "A" "C" "A,B" "A" "H,L" "A" "B" "A" "C" "I" "B" "A" "A" "B" "A,B" "A,B,C" "A" "B" "A" "A" "A" "A" "A" "D" "S" "A" "A" "C" "B" "B" "A" "A" "B" "A" "A" "A" "A" "B" "A" "B" "A" "A" "A" "A" "B" "B" "A" "A" "B" "A" "G" "B" "C" "A" "A" "A" "A" "B" "B" "B" "V" "A" "A" "A,B" "M" "E" "D" "B" "B" "B" "A" "E" "A" "B" "C" "B" "A" "B" "A" "A" "M" "B" "B" "A" "B" "A" "C" "A" "A" "D" "B" "B" "D" "H,L" "B" "L" "B" "A" "B" "A" "A" "B" "A" "A" "B" "H,L" "A,B,E,F,C,D" "C" "A" "R" "A" "L" "B,A" "M" "B" "A" "A" "D" "A" "A" "A" "B" "E" "T" "A" "D" "L,H" "A" "E" "A" "B" "B" "B" "H" "A" "A" "A" "B" "F" "H,L" "A" "G" "A" "I,O" "B" "A" "A" "D" "A" "B" "B" "B" "A" "A" "A" "A" "A" "D" "A" "A" "J" "A" "B" "A" "E" "A")
chains2=("A" "B" "H,L" "A" "H,L" "F,E" "A" "A" "A" "A" "A" "B" "M" "A" "A" "D" "A" "A" "C" "B" "B" "H,L" "A" "D" "E" "A" "B" "H,L" "I" "E" "A" "B" "A" "A" "B" "A" "C" "H,L" "I" "B" "A" "B" "A,B" "E" "A" "B" "H,L" "A" "Z" "H" "B" "A" "B" "B" "B" "B" "B" "A" "H,L" "G" "B" "A" "A" "A" "B" "C" "A" "B" "B" "B" "C" "A" "B" "A" "B" "B" "B" "B" "A" "A" "B" "D,C" "A" "B" "A" "R" "B,A" "B" "B" "B" "B" "A" "A" "A" "H,L" "B" "B" "C,F" "A" "A" "C" "A" "C,D" "A" "B,G" "A" "E" "D,C" "A,B" "A" "B" "A" "B" "B" "L,H" "M" "A" "B" "A" "C" "A" "B" "B" "E" "A" "A" "A" "A" "A" "H" "A" "B" "A" "B" "H,D" "A" "B" "B" "A" "G" "H,L" "A" "B" "E" "B" "N" "N" "A,B,C" "A" "B" "B" "A" "B" "F" "B" "A" "D,C" "C" "C" "A" "I" "M" "I" "B" "C" "A" "A" "A" "B" "C" "B" "A" "B" "U" "B" "H,L" "B" "D" "A" "D" "B" "C" "H,L" "A" "A" "F" "B" "B" "B" "B" "C" "A" "B" "B" "A,B" "B" "A" "G" "R" "B")
mut_res=("22B" "235A" "423G" "58B" "62A" "53I" "245B" "409B" "64B" "356B" "566B" "148A" "289B" "83B" "41Q" "534A" "364B" "404B" "107A" "81A" "292E" "59D" "66B" "99B" "56I" "30D" "567A" "83V" "107E" "49I" "42B" "160A" "867B" "111B" "204A" "150C" "59B" "125A" "103H" "41A" "3B" "59A" "33C" "6I" "85B" "109A" "516A" "22B" "51A" "198A" "115A" "66B" "19A" "140A" "72A" "79A" "238A" "179D" "190S" "127A" "80A" "162C" "24B" "116B" "245A" "46A" "102B" "96A" "184A" "38A" "230A" "121B" "324A" "436B" "338A" "75A" "208A" "112A" "97B" "297B" "91A" "423A" "87B" "356A" "1484G" "71B" "100C" "98A" "126A" "57A" "112A" "66B" "399B" "284B" "83V" "109A" "78A" "54B" "1031M" "18E" "144D" "8B" "319B" "1305B" "184A" "461E" "31A" "95B" "85C" "82B" "295A" "80B" "54A" "609A" "20M" "289B" "101B" "7A" "75B" "91A" "913C" "75A" "31A" "73D" "97B" "31B" "1624D" "174H" "20B" "117L" "2108B" "91A" "31B" "243A" "467A" "36B" "176A" "14A" "2081B" "73H" "45B" "1329C" "685A" "215R" "189A" "58L" "94A" "13M" "64B" "14A" "236A" "195D" "37A" "365A" "189A" "31B" "153E" "66T" "76A" "1D" "100H" "46A" "107E" "67A" "26B" "86B" "109B" "119H" "204A" "38A" "206A" "51B" "19F" "50H" "44A" "371G" "38A" "53O" "515B" "287A" "260A" "86D" "433A" "80B" "31B" "1216B" "345A" "295A" "376A" "177A" "505A" "782D" "62A" "78A" "94J" "58A" "164B" "53A" "188E" "20A")

for i in {0..200}
do
    srun /PATH_TO_ROSETTA/source/bin/rosetta_scripts.default.linuxiccrelease -parser:protocol recovery.xml -ignore_unrecognized_res -out:file:score_only recover_ile.sc -s ${pdb_id[$i]}.pdb -parser:script_vars c1=${chains1[$i]} c2=${chains2[$i]} r=${mut_res[$i]} -out:no_nstruct_label -mute core.scoring.sc.ShapeIdentityCalculator -in:file:native ${pdb_id[$i]}.pdb
done
    
